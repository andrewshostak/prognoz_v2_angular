<form novalidate [formGroup]="teamParticipantForm" (ngSubmit)="onSubmit()">
   <div class="form-group" [class.form-group-invalid]="showFormInvalidClass(teamParticipantForm.get('team_id'))">
      <label [attr.for]="'team_id'" class="font-weight-bold">Команда:</label>
      <app-team-select [formGroup]="teamParticipantForm" [teamsList]="team ? [team] : []"></app-team-select>
      <div [hidden]="!showFormErrorMessage(teamParticipantForm.get('team_id'), 'required')" class="error-message">
         <small>Команда обов'язкова</small>
      </div>
   </div>
   <div
      *ngIf="users"
      class="form-group"
      [class.form-group-invalid-custom]="teamParticipantForm.get('user_id').invalid && teamParticipantForm.get('user_id').touched"
   >
      <label for="user_id" class="font-weight-bold">Заявник</label>
      <select id="user_id" class="form-control" formControlName="user_id">
         <option *ngFor="let user of users" [value]="user.id">{{ user.name }}</option>
      </select>
      <div *ngIf="teamParticipantForm.get('user_id').hasError('required') && teamParticipantForm.get('user_id').touched">
         <small>Учасник обов'язковий</small>
      </div>
   </div>
   <div
      *ngIf="competitions"
      class="form-group"
      [class.form-group-invalid-custom]="
         teamParticipantForm.get('competition_id').invalid && teamParticipantForm.get('competition_id').touched
      "
   >
      <label for="competition_id" class="font-weight-bold">Змагання</label>
      <select id="competition_id" class="form-control" formControlName="competition_id">
         <option *ngFor="let competition of competitions" [value]="competition.id">{{ competition.title }}</option>
      </select>
      <div *ngIf="teamParticipantForm.get('competition_id').hasError('required') && teamParticipantForm.get('competition_id').touched">
         <small>Змаання обов'язкове</small>
      </div>
   </div>
   <div class="row">
      <div class="col-6 text-center">
         <div class="form-check">
            <label class="form-check-label">
               <input class="form-check-input" type="checkbox" formControlName="captain" />
               <strong>Капітан команди</strong>
            </label>
         </div>
      </div>
      <div class="col-6 text-center">
         <div class="form-check">
            <label class="form-check-label">
               <input class="form-check-input" type="checkbox" formControlName="ended" />
               <strong>Заявка завершена</strong>
            </label>
         </div>
      </div>
   </div>
   <div class="row">
      <div class="col-6 text-center">
         <div class="form-check">
            <label class="form-check-label">
               <input class="form-check-input" type="checkbox" formControlName="refused" />
               <strong>Заявку відхилено</strong>
            </label>
         </div>
      </div>
      <div class="col-6 text-center">
         <div class="form-check">
            <label class="form-check-label">
               <input class="form-check-input" type="checkbox" formControlName="confirmed" />
               <strong>Заявку підтверджено</strong>
            </label>
         </div>
      </div>
   </div>
   <div class="d-flex justify-content-between">
      <button type="button" class="btn btn-outline-danger" (click)="resetTeamParticipantForm()">Відмінити зміни</button>
      <button type="submit" class="btn btn-primary">{{ teamParticipant ? 'Змінити' : 'Зберегти' }}</button>
   </div>
</form>
<app-error *ngIf="errorTeams" [message]="errorTeams"></app-error>
<app-error *ngIf="errorUsers" [message]="errorUsers"></app-error>
<app-error *ngIf="errorCompetitions" [message]="errorCompetitions"></app-error>
